<div>
  <h1>Restful Tasks API</h1>
  <!-- <button (click)="getTasksFromService()" id="btn-task">Get All Tasks</button> -->
  <table *ngIf="tasks.length > 0">
    <tr>
      <th>Task</th>
      <th>Desc:</th>
      <th>Actions</th>
    </tr>
    <tr *ngFor="let task of tasks">
      <td>{{ task.title }}</td>
      <td>{{ task.description }}</td>
      <td>
        <button class="btn btn-danger btn-sm" (click)="onDelete(task._id)">
          Delete
        </button>
        <button class="btn btn-info btn-sm" (click)="onEdit(task)">Edit</button>
      </td>
    </tr>
  </table>

  <form (submit)="onUpdate()" *ngIf="editStatus == true">
    <h2 class="text-center">Edit Task</h2>
    <!-- <p>{{editTask | json}}</p> -->
    <div class="form-group">
      <label for="title">Title</label>
      <input
        type="text"
        class="form-control"
        name="editTask.title"
        [(ngModel)]="editTask.title"
        placeholder="Enter title"
      />
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <input
        type="text"
        class="form-control"
        name="editTask.description"
        [(ngModel)]="editTask.description"
        placeholder="Enter description"
      />
    </div>
    <button type="submit" class="btn btn-primary float-right">UPDATE</button>
  </form>

  <form (submit)="onSubmit()">
    <!-- use the json pipe to see how newTask changes in real time -->
    <!-- <p> {{ newTask | json }} </p> -->
    <h1>Add a new Task</h1>
    <input type="text" name="newTask.title" [(ngModel)]="newTask.title" />
    <input
      type="text"
      name="newTask.description"
      [(ngModel)]="newTask.description"
    />
    <input type="submit" value="Add a new Task" />
  </form>
</div>
